<div class=" flex flex-col gap-2">
    <div>{{post.postTitle}}</div>
    <div class="grid grid-cols-10">
        <div class="col-span-1  flex flex-col items-center justify-top bg-slate-300 p-2">
            <button [ngClass]="voted[0] && voted[1] ? 'text-green-400' : 'text-white'" (click)="upvote()">up</button>
            <div [ngClass]="up - down > 0 ? 'text-green-400' : up - down < 0 ? 'text-red-400' : 'text-white'">
                {{up-down}}
            </div>
            <div>
                votes
            </div>
            <button [ngClass]="voted[0] && !voted[1] ? 'text-red-400' : 'text-white'" (click)="downvote()">down</button>
        </div>

        <div class="col-span-9 bg-slate-700 flex flex-col justify-start p-2">
            {{post.message}}

            <div>last edited on {{post.edit_time}}</div>

            <button *ngIf="post.username==user" (click)="modifyPostClick()">Edit Post</button>
            <form *ngIf="modifyPost"
                class=" p-5 h-auto flex flex-col justify-between rounded-xl shadow-xl shadow-yellow-600"
                [formGroup]="formGroupB" (ngSubmit)="ModifyPost()">

                <label class=" rounded-sm text-yellow-700 bg-opacity-60 w-full">
                    Title:
                    <input class="bg-opacity-60 bg-black text-slate-200 rounded-sm w-full" type="text"
                        formControlName="postTitle" />
                </label>

                <textarea rows="5" cols="33" class="bg-slate-300  mt-5" formControlName="message"></textarea>


                <div class="flex justify-end">
                    <button
                        class="bg-blue-400 w-fit p-2 rounded-lg bg-opacity-60 hover:scale-110 cursor-pointer hover:shadow-md hover:shadow-blue-700 transition duration-200 ease-in-out"
                        type="submit" [disabled]="formGroup.invalid">Submit</button>
                </div>

            </form>
        </div>
    </div>
    <div class="grid grid-cols-10">
        <div class="col-span-1"></div>
        <div class="col-span-9 flex flex-col gap-2">
            <app-comment-card *ngFor="let comment of post.comments" [comment]="comment"></app-comment-card>
        </div>
    </div>
    <button (click)="newCommentClick()">New Comment</button>
    <form *ngIf="newComment" class=" p-5 h-1/3 flex flex-col justify-between rounded-xl shadow-xl shadow-yellow-600"
        [formGroup]="formGroup" (ngSubmit)="submitComment()">

        <label class="rounded-sm text-yellow-700 bg-opacity-60">
            Comment:
        </label>
        <textarea rows="5" cols="33" class="bg-slate-300  mt-5" formControlName="comment"></textarea>


        <div class="flex justify-end">
            <button
                class="bg-blue-400 w-fit p-2 rounded-lg bg-opacity-60 hover:scale-110 cursor-pointer hover:shadow-md hover:shadow-blue-700 transition duration-200 ease-in-out"
                type="submit" [disabled]="formGroup.invalid">Submit</button>
        </div>

    </form>

</div>